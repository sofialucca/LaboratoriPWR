<!DOCTYPE html>
<html lang="it">
    <head>
        <meta charset="utf-8">
        <meta name='author' content="Sofia Lucca">
        <meta name='description' content="Esercizio 7.15">
        <link rel="icon" type="image/png" href="../icona_SL.png">
        <title>Esercizio 7.15</title>
        <script>
            'use strict';
             function controllo(nomeForm){
                var stringa = nomeForm.username.value;
                var result = "Userame nel formato corretto";
                var check = true;
                if(stringa.length<5){
                   result= "ERRORE: la stringa deve contenere almeno 5 caratteri\n";
                    check = false;
                }
                
                if(/[^a-zA-Z,\.]/.test(stringa)){
                    result += "ERRORE: la stringa puÃ² contenere solo caratteri alfabetici, punti o virgole.\nValori errati: ";
                    let arrayErrori = stringa.match(/[^a-zA-Z,\.]/g);
                    for(let i =0;i<arrayErrori.length;i++){
                        result += arrayErrori[i]+" ";
                    }
                    result+="\n";
                    check = false;
                }
                if(!/(?=.*?[A-Z])/.test(stringa)){
                    result +="ERRORE: username deve contenere almeno una lettera maiuscola\n";
                }
                if(!/(?=.*?[a-z])/.test(stringa)){
                    result +="ERRORE: username deve contenere almeno una lettera minuscola";
                    check = false;
                }
                alert(result);
                return check;
                
             }
        </script>
    </head>
    <body>
        <h1>Esercizio 7.15</h1>
        <form name = f onsubmit="controllo(f)">
            <p>
                Inserire username: 
                <input type = 'text' placeholder ='username' name ='username'> 
                <input type = 'submit' value = 'CONTROLLA'>
            </p>
        </form>
    </body>